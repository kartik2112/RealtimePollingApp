<!DOCTYPE html>
<html>
    <head>
        <title>Voting Results</title>
        <script src="/socket.io/socket.io.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
        <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
    </head>
    <body>
        <script>
            $(document).ready(function(){
                // var socket = io();
                // API to get status from DB.
                $.get("/getPolls",function(data){
                    var chart = new CanvasJS.Chart("chartContainer", {
                        animationEnabled: true,
                        theme: "dark2", // "light1", "light2", "dark1", "dark2"
                        title:{
                            text: "Polls - 2019"
                        },
                        axisY: {
                            title: "No of votes"
                        },
                        data: [{        
                            type: "column",  
                            showInLegend: true, 
                            legendMarkerColor: "grey",
                            dataPoints: [      
                                { y: data.A, label: "A" },
                                { y: data.B,  label: "B" }
                            ]
                        }]
                    });
                    chart.render();
                });
            });
        </script>
        <div id="chartContainer" style="height: 300px; width: 50%; margin:auto;"></div>
    </body>
</html>